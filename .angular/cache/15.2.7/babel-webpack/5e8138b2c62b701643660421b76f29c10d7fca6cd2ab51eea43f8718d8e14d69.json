{"ast":null,"code":"import { ScheduleModel } from '../models/schedule.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/schedule.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ManageDiscountComponent_option_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r3.scheduleID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", item_r3.hour, \":\", item_r3.minutes, \"\");\n  }\n}\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\nexport class ManageDiscountComponent {\n  constructor(scheduleService, router) {\n    this.scheduleService = scheduleService;\n    this.router = router;\n    this.disCheck = false;\n  }\n  onSubmitCreate() {\n    if (this.validateSubmit()) {\n      let schedule = new ScheduleModel();\n      schedule.hour = this.hour;\n      schedule.minutes = this.minutes;\n      if (this.disCheck) {\n        schedule.isDiscount = true;\n        schedule.discount = this.discount;\n      }\n      this.scheduleService.postSchedule(schedule).subscribe(d => {\n        window.alert(\"successful id: \" + d.scheduleID);\n      });\n      this.router.navigateByUrl('/', {\n        skipLocationChange: true\n      }).then(() => {\n        this.router.navigate(['manage-discount']).then(() => {\n          console.log(`After navigation I am on:${this.router.url}`);\n        });\n      });\n    } else {\n      window.alert(\"you can't leave fields blank\");\n    }\n  }\n  check(event) {\n    const myCheckbox = document.getElementById(\"isDisc\");\n    this.disCheck = myCheckbox.checked;\n    console.log(\"check: \" + this.disCheck);\n  }\n  validateSubmit() {\n    let flag = false;\n    if (this.hour != null && this.minutes != null) {\n      if (this.hour != 0) {\n        if (this.disCheck) {\n          if (this.discount != null) {\n            flag = true;\n          }\n        } else {\n          flag = true;\n        }\n      }\n    }\n    return flag;\n  }\n}\nManageDiscountComponent.ɵfac = function ManageDiscountComponent_Factory(t) {\n  return new (t || ManageDiscountComponent)(i0.ɵɵdirectiveInject(i1.ScheduleService), i0.ɵɵdirectiveInject(i2.Router));\n};\nManageDiscountComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ManageDiscountComponent,\n  selectors: [[\"app-manage-discount\"]],\n  decls: 35,\n  vars: 19,\n  consts: [[1, \"box\"], [1, \"create\"], [3, \"ngSubmit\"], [\"form\", \"ngForm\"], [\"type\", \"number\", 1, \"sch\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"checkbox\", \"id\", \"isDisc\", 3, \"change\"], [\"for\", \"isDisc\"], [\"type\", \"submit\", \"value\", \"Create\", 1, \"btn-create\"], [1, \"update\"], [1, \"sch\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", \"value\", \"Update\", 1, \"btn-create\"], [3, \"value\"]],\n  template: function ManageDiscountComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function ManageDiscountComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.onSubmitCreate();\n      });\n      i0.ɵɵelementStart(4, \"label\");\n      i0.ɵɵtext(5, \"HOUR:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ManageDiscountComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx.hour = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"br\");\n      i0.ɵɵelementStart(8, \"label\");\n      i0.ɵɵtext(9, \"MINUTES:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ManageDiscountComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.minutes = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 5);\n      i0.ɵɵlistener(\"change\", function ManageDiscountComponent_Template_input_change_11_listener($event) {\n        return ctx.check($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"label\", 6);\n      i0.ɵɵtext(13, \"discount?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\")(15, \"label\");\n      i0.ɵɵtext(16, \"DISCOUNT %\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ManageDiscountComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.discount = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(18, \"br\")(19, \"input\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 8)(21, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function ManageDiscountComponent_Template_form_ngSubmit_21_listener() {\n        return ctx.onSubmitCreate();\n      });\n      i0.ɵɵelementStart(23, \"label\");\n      i0.ɵɵtext(24, \"SCHEDULE:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"select\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function ManageDiscountComponent_Template_select_ngModelChange_25_listener($event) {\n        return ctx.selectedSchedule = $event;\n      });\n      i0.ɵɵtemplate(26, ManageDiscountComponent_option_26_Template, 2, 3, \"option\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"p\");\n      i0.ɵɵtext(28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(29, \"br\");\n      i0.ɵɵelementStart(30, \"label\");\n      i0.ɵɵtext(31, \"DISCOUNT %\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ManageDiscountComponent_Template_input_ngModelChange_32_listener($event) {\n        return ctx.discountUp = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(33, \"br\")(34, \"input\", 11);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.hour)(\"ngModelOptions\", i0.ɵɵpureFunction0(14, _c0));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.minutes)(\"ngModelOptions\", i0.ɵɵpureFunction0(15, _c0));\n      i0.ɵɵadvance(4);\n      i0.ɵɵstyleProp(\"display\", ctx.disCheck ? \"block\" : \"none\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.discount)(\"ngModelOptions\", i0.ɵɵpureFunction0(16, _c0));\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedSchedule)(\"ngModelOptions\", i0.ɵɵpureFunction0(17, _c0));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.schedules);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"%\", ctx.currentDisc, \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.discountUp)(\"ngModelOptions\", i0.ɵɵpureFunction0(18, _c0));\n    }\n  },\n  dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\".box[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\ninput[_ngcontent-%COMP%]{\\r\\n    border-radius: 10px;\\r\\n    margin-left: 1em;\\r\\n    margin-top: 1em;\\r\\n}\\r\\n\\r\\n.sch[_ngcontent-%COMP%]{\\r\\n    width: 50px;\\r\\n}\\r\\n\\r\\n.btn-create[_ngcontent-%COMP%]{\\r\\n    border-radius: 10px;\\r\\n    background-color: #302b96;\\r\\n    color: aliceblue;\\r\\n    width: 100px;\\r\\n}\\r\\n\\r\\n.btn-create[_ngcontent-%COMP%]:hover{\\r\\n    background: darkorange;\\r\\n    transform: scale(1.2);\\r\\n    font-weight: bold;\\r\\n    opacity: 0.5;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWFuYWdlLWRpc2NvdW50L21hbmFnZS1kaXNjb3VudC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIseUJBQXlCO0lBQ3pCLGdCQUFnQjtJQUNoQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLHFCQUFxQjtJQUNyQixpQkFBaUI7SUFDakIsWUFBWTtBQUNoQiIsInNvdXJjZXNDb250ZW50IjpbIi5ib3gge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxufVxyXG5cclxuaW5wdXR7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDFlbTtcclxuICAgIG1hcmdpbi10b3A6IDFlbTtcclxufVxyXG5cclxuLnNjaHtcclxuICAgIHdpZHRoOiA1MHB4O1xyXG59XHJcblxyXG4uYnRuLWNyZWF0ZXtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzAyYjk2O1xyXG4gICAgY29sb3I6IGFsaWNlYmx1ZTtcclxuICAgIHdpZHRoOiAxMDBweDtcclxufVxyXG5cclxuLmJ0bi1jcmVhdGU6aG92ZXJ7XHJcbiAgICBiYWNrZ3JvdW5kOiBkYXJrb3JhbmdlO1xyXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjIpO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBvcGFjaXR5OiAwLjU7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,aAAa,QAAQ,0BAA0B;;;;;;;;ICsBxCC,kCAAiE;IAAAA,YAA8B;IAAAA,iBAAS;;;;IAAjEA,0CAAyB;IAACA,eAA8B;IAA9BA,iEAA8B;;;;;;;;ADd/G,OAAM,MAAOC,uBAAuB;EAQlCC,YAAoBC,eAAgC,EAAUC,MAAc;IAAxD,oBAAe,GAAfD,eAAe;IAA2B,WAAM,GAANC,MAAM;IAJpE,aAAQ,GAAY,KAAK;EAOzB;EAEAC,cAAc;IACZ,IAAG,IAAI,CAACC,cAAc,EAAE,EAAC;MAEvB,IAAIC,QAAQ,GAAG,IAAIR,aAAa,EAAE;MAClCQ,QAAQ,CAACC,IAAI,GAAG,IAAI,CAACA,IAAI;MACzBD,QAAQ,CAACE,OAAO,GAAG,IAAI,CAACA,OAAO;MAC/B,IAAG,IAAI,CAACC,QAAQ,EAAC;QACfH,QAAQ,CAACI,UAAU,GAAC,IAAI;QACxBJ,QAAQ,CAACK,QAAQ,GAAG,IAAI,CAACA,QAAQ;;MAGnC,IAAI,CAACT,eAAe,CAACU,YAAY,CAACN,QAAQ,CAAC,CAACO,SAAS,CAACC,CAAC,IAAE;QACvDC,MAAM,CAACC,KAAK,CAAC,iBAAiB,GAACF,CAAC,CAACG,UAAU,CAAC;MAC9C,CAAC,CAAC;MAEF,IAAI,CAACd,MAAM,CAACe,aAAa,CAAC,GAAG,EAAC;QAACC,kBAAkB,EAAC;MAAI,CAAC,CAAC,CAACC,IAAI,CAAC,MAAI;QAChE,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAACD,IAAI,CAAC,MAAI;UACjDE,OAAO,CAACC,GAAG,CAAC,4BAA4B,IAAI,CAACpB,MAAM,CAACqB,GAAG,EAAE,CAAC;QAC5D,CAAC,CAAC;MACJ,CAAC,CAAC;KAEH,MAAI;MACHT,MAAM,CAACC,KAAK,CAAC,8BAA8B,CAAC;;EAEhD;EAEOS,KAAK,CAACC,KAAU;IAErB,MAAMC,UAAU,GAAGC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAqB;IACxE,IAAI,CAACpB,QAAQ,GAAGkB,UAAU,CAACG,OAAO;IAElCR,OAAO,CAACC,GAAG,CAAC,SAAS,GAAC,IAAI,CAACd,QAAQ,CAAC;EAEtC;EAEQJ,cAAc;IACpB,IAAI0B,IAAI,GAAG,KAAK;IAEhB,IAAG,IAAI,CAACxB,IAAI,IAAE,IAAI,IAAI,IAAI,CAACC,OAAO,IAAE,IAAI,EAAC;MACvC,IAAG,IAAI,CAACD,IAAI,IAAE,CAAC,EAAC;QACd,IAAG,IAAI,CAACE,QAAQ,EAAC;UACf,IAAG,IAAI,CAACE,QAAQ,IAAE,IAAI,EAAC;YACrBoB,IAAI,GAAC,IAAI;;SAEZ,MAAI;UACHA,IAAI,GAAC,IAAI;;;;IAKf,OAAOA,IAAI;EACb;;AAhEW/B,uBAAuB;mBAAvBA,uBAAuB;AAAA;AAAvBA,uBAAuB;QAAvBA,uBAAuB;EAAAgC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVpCrC,8BAAiB;MAEYA;QAAA,OAAYsC,oBAAgB;MAAA,EAAC;MAC9CtC,6BAAO;MAAAA,qBAAK;MAAAA,iBAAQ;MACpBA,gCAA4F;MAA3DA;QAAA;MAAA,EAAkB;MAAnDA,iBAA4F;MAC5FA,qBAAI;MACJA,6BAAO;MAAAA,wBAAQ;MAAAA,iBAAQ;MACvBA,iCAA+F;MAA9DA;QAAA;MAAA,EAAqB;MAAtDA,iBAA+F;MAE/FA,iCAA4D;MAAzBA;QAAA,OAAUsC,iBAAa;MAAA,EAAC;MAA3DtC,iBAA4D;MAC5DA,iCAAoB;MAAAA,0BAAS;MAAAA,iBAAQ;MAErCA,4BAAmD;MACxCA,2BAAU;MAAAA,iBAAQ;MACzBA,iCAAgG;MAA/DA;QAAA;MAAA,EAAsB;MAAvDA,iBAAgG;MAEpGA,sBAAI;MAERA,iBAAO;MAEXA,+BAAoB;MACKA;QAAA,OAAYsC,oBAAgB;MAAA,EAAC;MAC9CtC,8BAAO;MAAAA,0BAAS;MAAAA,iBAAQ;MACxBA,kCAA2F;MAAvEA;QAAA;MAAA,EAA8B;MAC9CA,iFAAwG;MAC5GA,iBAAS;MACTA,0BAAG;MAAAA,aAAgB;MAAAA,iBAAI;MACvBA,sBAAI;MACJA,8BAAO;MAAAA,2BAAU;MAAAA,iBAAQ;MACzBA,iCAAkG;MAAjEA;QAAA;MAAA,EAAwB;MAAzDA,iBAAkG;MAClGA,sBAAI;MAERA,iBAAO;;;MA5B8BA,eAAkB;MAAlBA,kCAAkB;MAGlBA,eAAqB;MAArBA,qCAAqB;MAKjDA,eAA6C;MAA7CA,0DAA6C;MAEbA,eAAsB;MAAtBA,sCAAsB;MASvCA,eAA8B;MAA9BA,8CAA8B;MACrBA,eAAY;MAAZA,uCAAY;MAEtCA,eAAgB;MAAhBA,+CAAgB;MAGcA,eAAwB;MAAxBA,wCAAwB","names":["ScheduleModel","i0","ManageDiscountComponent","constructor","scheduleService","router","onSubmitCreate","validateSubmit","schedule","hour","minutes","disCheck","isDiscount","discount","postSchedule","subscribe","d","window","alert","scheduleID","navigateByUrl","skipLocationChange","then","navigate","console","log","url","check","event","myCheckbox","document","getElementById","checked","flag","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Angular Test Projects\\frontend-cinema\\src\\app\\manage-discount\\manage-discount.component.ts","D:\\Angular Test Projects\\frontend-cinema\\src\\app\\manage-discount\\manage-discount.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ScheduleService } from '../services/schedule.service';\nimport { ScheduleModel } from '../models/schedule.model';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-manage-discount',\n  templateUrl: './manage-discount.component.html',\n  styleUrls: ['./manage-discount.component.css']\n})\nexport class ManageDiscountComponent {\n\n  hour!:number;\n  minutes!:number;\n  disCheck: boolean = false;\n  discount!:number;\n  selectedSchedule!:number;\n\n  constructor(private scheduleService: ScheduleService, private router: Router) {\n\n    \n  }\n\n  onSubmitCreate(){\n    if(this.validateSubmit()){\n\n      let schedule = new ScheduleModel();\n      schedule.hour = this.hour;\n      schedule.minutes = this.minutes;\n      if(this.disCheck){\n        schedule.isDiscount=true;\n        schedule.discount = this.discount;\n      }\n\n      this.scheduleService.postSchedule(schedule).subscribe(d=>{\n        window.alert(\"successful id: \"+d.scheduleID);\n      });\n\n      this.router.navigateByUrl('/',{skipLocationChange:true}).then(()=>{\n        this.router.navigate(['manage-discount']).then(()=>{\n          console.log(`After navigation I am on:${this.router.url}`)\n        })\n      });\n      \n    }else{\n      window.alert(\"you can't leave fields blank\");\n    }\n  }\n\n  public check(event: any){\n    \n    const myCheckbox = document.getElementById(\"isDisc\") as HTMLInputElement;\n    this.disCheck = myCheckbox.checked;\n\n    console.log(\"check: \"+this.disCheck);\n\n  }\n\n  private validateSubmit():boolean{\n    let flag = false;\n\n    if(this.hour!=null && this.minutes!=null){\n      if(this.hour!=0){\n        if(this.disCheck){\n          if(this.discount!=null){\n            flag=true\n          }\n        }else{\n          flag=true\n        }\n      }\n    }\n\n    return flag;\n  }\n\n}\n","<div class=\"box\">\n    <div class=\"create\">\n        <form #form=\"ngForm\" (ngSubmit)=\"onSubmitCreate()\">\n            <label>HOUR:</label>\n            <input class=\"sch\" type=\"number\" [(ngModel)]=\"hour\" [ngModelOptions]=\"{ standalone: true }\">\n            <br>\n            <label>MINUTES:</label>\n            <input class=\"sch\" type=\"number\" [(ngModel)]=\"minutes\" [ngModelOptions]=\"{ standalone: true }\">\n            \n            <input type=\"checkbox\" id=\"isDisc\" (change)=\"check($event)\">\n            <label for=\"isDisc\">discount?</label>\n                \n            <div [style.display]=\"disCheck ? 'block' : 'none'\">\n                <label>DISCOUNT %</label>\n                <input class=\"sch\" type=\"number\" [(ngModel)]=\"discount\" [ngModelOptions]=\"{ standalone: true }\">\n            </div>\n            <br>\n            <input type=\"submit\" value=\"Create\" class=\"btn-create\">\n        </form>\n    </div>\n    <div class=\"update\">\n        <form #form=\"ngForm\" (ngSubmit)=\"onSubmitCreate()\">\n            <label>SCHEDULE:</label>\n            <select class=\"sch\" [(ngModel)]=\"selectedSchedule\" [ngModelOptions]=\"{ standalone: true }\">\n                <option *ngFor=\"let item of schedules\" [value]=\"item.scheduleID\">{{item.hour}}:{{item.minutes}}</option>\n            </select>\n            <p>%{{currentDisc}}</p>\n            <br>\n            <label>DISCOUNT %</label>\n            <input class=\"sch\" type=\"number\" [(ngModel)]=\"discountUp\" [ngModelOptions]=\"{ standalone: true }\">\n            <br>\n            <input type=\"submit\" value=\"Update\" class=\"btn-create\">\n        </form>\n    </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}